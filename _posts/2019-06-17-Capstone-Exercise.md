  For this capstone project I decided to apply what I have learned throughout this course and demonstrating it on the 14th Canadian General Hospital War Diaries, so that I can analyze the context of these diaries more efficiently along with observing any patterns that might emerge from theses diaries. These war diaries were from World War 1 and consisted of 80 documents that were digitally scanned and uploaded to the Library and Archives Canada. Throughout this project I made sure to use what I have learned in each module, such as the Finding Data, Fixing Data and Analysis modules, to help me with accomplishing this project. 

  First, I began by using a simple python script that was provided which would retrieve all the URL’s for each war diary and paste it into a document called “urls.txt”. Entered in a simple Wget command that reads the file and downloads the contents of the file into a folder called war-diary. In this [*folder contained 80  jpg images of the war diaries*](https://github.com/kid12354/capstone/tree/master/war-diary), but this then brought up the issue of how we would be able to analyze these diaries for patterns if we are working with images? .  The solution for this issue is to use an OCR (Optical Character Reading) to process these images into text files that can then be searched through. Before running these images into an OCR, we needed to make sure the images were at the highest quality possible to ensure a better accuracy for the OCR. To achieve this, I began converting the jpg images into a tiff format to allow for better clarity among the images .  I installed imagemagick onto my machine and used this command 

- density 300 *.jpg -depth 8 -strip -background white -alpha off -set filename:fname '%t_tn' +adjoin '%[filename:fname].tiff' 

to [*convert the jpg images to tiff while keeping the same filename*](https://github.com/kid12354/capstone/tree/master/war-diaries-tiff).  Next, I decided to use Tesseract as my choice of OCR and had two options of enabling this program through either the [*command line*](https://github.com/kid12354/capstone/tree/master/tesseract-commandline) or through [*Rstudio*](https://github.com/kid12354/capstone/tree/master/tesseract-Rstudio). I decided to test both options  to see which one yielded better result and started out with the command line. I entered in this command:

- for i in *.tiff ; do tesseract $i $i;  done;

which would take any file that is in tiff format and run Tesseract on it. After Tesseract has been ran on the file it would output the results into a text file that has the same name as the tiff file, this would allow me to keep better track of the results.  The results from the command line were bad as majority of the text files were just gibberish and could not recognize any words properly and was then forced to try using the Rstudio method. I used the program that was provided which helps run multiple images through Tesseract at once, but I tweaked the program to accommodate tiff format and ran the program. The results were much better than the command line process since the OCR was able to recognize majority of the text for each image.  I tried using another OCR software but couldn’t achieve the same level of results as Rstudio. I then ran these txt files through openRefine to allow me to further clean them up. After which began the hard part of manually going through each file and further cleaning it up while using the original images as a reference point. 

  After the cleaning process, I decided to try the different pattern analyzing techniques that were taught in Module 4 in order to see if any trends emerged from the war diaries.  I started out by using the [*Topic Modeling Tool which generated a couple of csv files of topics and other information*](https://github.com/kid12354/capstone/tree/master/output_csv).  Next, I used Overview to analyze the war diaries to see which words are most frequent and was given a [*word cloud*](https://github.com/kid12354/kid12354.github.io/blob/master/images/overview-wordcloud.JPG).  After I tried running the war diaries into Voyant Tools to get a better representation of patterns that are occurring.  
  
![voyant-cirrus]({{"images/voyant-cirrus.JPG"|absolute_url}})  
![voyant-links]({{"images/voyant-links.JPG"|absolute_url}})
![voyant-summary]({{"images/voyant-summary.JPG"|absolute_url}})
![voyant-termberry]({{"images/voyant-termsBerry.JPG"|absolute_url}})
![voyant-trends]({{"images/voyant-trends.JPG"|absolute_url}})

  
  The reason for running the war diaries into various pattern analysis tools was that I wasn’t sure what approach I wanted to take for this capstone exercise. After running theses pattern tools, I noticed there were a few names and dates of events mentioned in these diaries frequently.  I then came up with the idea to cross reference any names found into the Commonwealth War Graves Commission site that was introduced in the Dream case exercise along with the dates being cross referenced to any major events that took place during WW1. Unfortunately, I did not have enough time to accomplish this since most of my time went towards cleaning up the war diaries. 
